#!/usr/bin/env bash

INTERNET=' üì∂'
internet_info=`airport -I | grep agrCtlRSSI | awk '{print $2}' | sed 's/-//g'`

if [[ $internet_info -lt 20 ]]; then
    echo -n '#[fg=colour116]'
elif [[ $internet_info -lt 30 ]]; then
    echo -n '#[fg=colour117]'
elif [[ $internet_info -lt 40 ]]; then
    echo -n '#[fg=colour118]'
elif [[ $internet_info -lt 50 ]]; then
    echo -n '#[fg=colour119]'
else
    echo -n '#[fg=colour120]'
fi

if [ -n "$internet_info" ]; then
  echo -n "$INTERNET  -[$internet_info]db"
else
  ping -c 1 duck.com &> /dev/null && \
    echo -n "$INTERNET #[fg=colour148]LAN" || echo -n " ‚ùå " 
fi
