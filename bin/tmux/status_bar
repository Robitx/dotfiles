#!/usr/bin/env bash
# Responsive tmux status bar

WIDTH=${1}
SMALL=90
BIG=134
BAR=""
BAR+="#(~/.dotfiles/bin/tmux/mail_count_apple)"
if [ "$WIDTH" -le "$SMALL" ]; then
  BAR+="#(tmux-mem-cpu-load -a 0 -g 0 -i 2 -t 0 -m 0)"
elif [ "$WIDTH" -ge "$BIG" ]; then
  BAR+="#(tmux-mem-cpu-load -a 0 -g 10 -i 2 -t 0 -m 0)"
else
  BAR+="FAIL"
fi

BAR+="#[default]#(~/.dotfiles/bin/tmux/internet_info)"
BAR+=" #[fg=colour81]#(~/.dotfiles/bin/tmux/now_playing $WIDTH)"

echo "$BAR "
